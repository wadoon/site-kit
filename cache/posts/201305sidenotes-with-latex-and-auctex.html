<html><body><p>I often use the following Latex snippet for creating small notes (like paragraphs headings) for the reader's orientation:<br><br><br></p><blockquote class="tr_bq"><span style="font-size: x-small;"><span>  \newcommand\sidenote[1]{\marginpar{{\small \textsf{\textbf{#1}}}}}</span></span></blockquote><br>This creates in the margin a smaller bolder sans-serif heading. If you want to hide this macro within the fold-mode of auctex, you need to adapt following list <a href="http://www.gnu.org/software/auctex/manual/auctex/Folding.html">(see here)</a>:<br><blockquote class="tr_bq"> <dl><dt><u>User Option:</u> <b>TeX-fold-macro-spec-list</b></dt><dd>List of replacement specifiers and macros to fold.  The specifier can be a string, an integer or a function symbol. <br> If you specify a string, it will be used as a display replacement for the whole macro.  Numbers in braces, brackets, parens or angle brackets will be replaced by the respective macro argument.  For example ‘<samp>{1}</samp>’ will be replaced by the first mandatory argument of the macro.  One can also define alternatives within the specifier which are used if an argument is not found.  Alternatives are separated by ‘<samp>||</samp>’.  They are most useful with optional arguments.  As an example, the default specifier for ‘<samp>\item</samp>’ is ‘<samp>[1]:||*</samp>’ which means that if there is an optional argument, its value is shown followed by a colon.  If there is no optional argument, only an asterisk is used as the display string. <br> If you specify a number as the first element, the content of the respective mandatory argument of a LaTeX macro will be used as the placeholder. <br> If the first element is a function symbol, the function will be called with all mandatory arguments of the macro and the result of the function call will be used as a replacement for the macro. <br> The placeholder is made by copying the text from the buffer together with its properties, i.e. its face as well.  If fontification has not happened when this is done (e.g. because of lazy font locking) the intended fontification will not show up.  As a workaround you can leave Emacs idle a few seconds and wait for stealth font locking to finish before you fold the buffer.  Or you just re-fold the buffer with <code>TeX-fold-buffer</code> when you notice a wrong fontification. </dd></dl></blockquote><br>In our case we can need only to execute this:<br><blockquote class="tr_bq"><br></blockquote><blockquote><span><span style="font-size: x-small;">(add-to-list 'TeX-fold-macro-spec-list<br>                         '("[sidenote]" ("sidenote")))</span></span></blockquote><br><br>From the documentation you can derive this:<br><br><br><blockquote class="tr_bq"><span><span style="font-size: x-small;">TeX-fold-macro-spec-list := ( specifier* )</span></span><br><span><span style="font-size: x-small;">specifier                := ( {integer, symbol, string}<br>                              list-of-tex-macros)<br>list-of-tex-macros       := ( string* )</span></span></blockquote><br><br>If we pass a string, the macro (+ arguments) will be replaced in fold by this string. If we use "{n}" (or brackets, parens or angle brackets) the macro will be substitue by the n-th argument. The same as you use an integer value. An symbol with a bound function will be called by the macro mandatory arguments.<br><br>Inspect for <span><span style="font-size: x-small;">TeX-fold-macro-spec-list </span></span>more details: <br><blockquote class="tr_bq"><span style="font-size: x-small;"><span><br></span></span><span style="font-size: x-small;"><span>(("[f]"<br>    ("sidenote"))<br> ("[f]"<br>    ("footnote" "marginpar"))<br> ("[c]"<br>    ("cite"))<br> ("[l]"<br>    ("label"))<br> ("[r]"<br>    ("ref" "pageref" "eqref"))<br> ("[i]"<br>    ("index" "glossary"))<br> ("[1]:||*"<br>    ("item"))<br> ("..."<br>    ("dots"))<br> ("(C)"<br>    ("copyright"))<br> ("(R)"<br>    ("textregistered"))<br> ("TM"<br>    ("texttrademark"))<br> (1<br>    ("part" "chapter" "section" "subsection" "subsubsection" "paragraph" "subparagraph" "part*" "chapter*" "section*" "subsection*" "subsubsection*" "paragraph*" "subparagraph*" "emph" "textit" "textsl" "textmd" "textrm" "textsf" "texttt" "textbf" "textsc" "textup")))</span></span><br><span style="font-size: x-small;"><span><br></span></span></blockquote><br><br></body></html>
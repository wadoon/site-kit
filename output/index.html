<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>weigl::io | weigl::io</title>

      <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
  <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
  <link href="//netdna.bootstrapcdn.com/bootswatch/3.1.1/cosmo/bootstrap.min.css" rel="stylesheet">
  <link href="assets/css/rst.css" rel="stylesheet" type="text/css">
  <link href="assets/css/code.css" rel="stylesheet" type="text/css">
  <link href="assets/css/colorbox.css" rel="stylesheet" type="text/css">
  <link href="assets/css/theme.css" rel="stylesheet" type="text/css">


                <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">

      <link rel="canonical" href="http://www.student.kit.edu/~uiduw/index.html">



    
        <!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]-->

    

<link href="//netdna.bootstrapcdn.com/bootswatch/3.1.1/cosmo/bootstrap.min.css" rel="stylesheet">

</head>
<body>

<!-- Menubar -->

<nav class="navbar navbar-default navbar-static-top" role="navigation">
    <div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://www.student.kit.edu/~uiduw/">

                <span id="blog-title">weigl::io</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                                <li>
<a href="archive.html">Archives</a>
                </li>
<li>
<a href="categories/index.html">Tags</a>
                </li>
<li>
<a href="rss.xml">RSS</a>

            </li>
</ul>

            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav>

<!-- End of Menubar -->

<div class="container">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
<div class="postindex">
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/isodata-clustering.html" class="u-url">isodata clustering</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Alexander Weigl</span></p>
            <p class="dateline"><a href="posts/isodata-clustering.html" rel="bookmark"><time class="published dt-published" datetime="2013-09-17T16:40:28+00:00" itemprop="datePublished" title="Publication date">2013-09-17 16:40</time></a></p>
        </div>
    </header>
    <div class="e-content entry-content">
    <div>
<div class="figure align-center">
<img alt="alternate text" src="f/isodata.gif" style="width: 400px;">
<p class="caption">The decision function</p>
</div>
<p><a class="reference external" href="listings/isodata.py.html">isodata.py</a></p>
<pre class="code python literal-block">
<span class="c"># -*- coding: utf-8 -*-</span>

<span class="c"># # Berechnung von IsoData (Unsupervised Learning)</span>
<span class="c">#</span>
<span class="c"># 0. generate data</span>
<span class="c"># 1. guess mu_i</span>
<span class="c"># 2. classify</span>
<span class="c"># 3. adapt mu_i</span>
<span class="c"># 4. -&gt; 2</span>



<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span><span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span>   <span class="nn">matplotlib.pylab</span> <span class="kn">import</span> <span class="o">*</span>


<span class="k">def</span> <span class="nf">newClass</span><span class="p">(</span> <span class="n">mu</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">multivariate_normal</span><span class="p">(</span> <span class="n">mu</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span>
 <span class="n">newClass</span><span class="p">(</span> <span class="p">[</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="p">,</span> <span class="p">[[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]</span> <span class="p">],</span> <span class="mi">20</span><span class="p">),</span>
 <span class="n">newClass</span><span class="p">(</span> <span class="p">[</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="p">,</span> <span class="p">[[</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">0.1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]</span> <span class="p">],</span> <span class="mi">20</span><span class="p">),</span>
 <span class="n">newClass</span><span class="p">(</span> <span class="p">[</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span> <span class="p">,</span> <span class="p">[[</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">0.1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]</span> <span class="p">],</span> <span class="mi">20</span><span class="p">),</span>
<span class="c"># newClass( [ 8, 6] , [[0.4,0.1], [0.6, 0.3] ], 20),</span>
<span class="c"># newClass( [ 5, 1] , [[0.4,0.1], [0.2, 0.3] ], 20),</span>
<span class="c"># newClass( [ 1, 4] , [[0.3,0.1], [0.3, 0.3] ], 20),</span>
 <span class="n">newClass</span><span class="p">(</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="p">,</span> <span class="p">[[</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]</span> <span class="p">],</span> <span class="mi">20</span><span class="p">)</span> <span class="p">))</span>

<span class="n">classes</span><span class="p">,</span> <span class="n">dim</span>  <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span>

<span class="k">def</span> <span class="nf">c</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
    <span class="n">min_dist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span>
    <span class="n">min_class</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">for</span> <span class="n">c</span><span class="p">,</span> <span class="n">mu_c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mu</span><span class="p">):</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span> <span class="n">d</span> <span class="o">-</span> <span class="n">mu_c</span> <span class="p">)</span>
        <span class="k">if</span> <span class="n">dist</span> <span class="o">&lt;=</span> <span class="n">min_dist</span><span class="p">:</span>
            <span class="n">min_class</span> <span class="o">=</span> <span class="n">c</span>
            <span class="n">min_dist</span> <span class="o">=</span> <span class="n">dist</span>
    <span class="k">return</span> <span class="n">min_class</span>

<span class="k">def</span> <span class="nf">classify</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
    <span class="n">classes</span> <span class="o">=</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
        <span class="n">classes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="n">mu</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">classes</span>

<span class="k">def</span> <span class="nf">recalculate</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
    <span class="n">classes</span> <span class="o">=</span> <span class="n">classify</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="mi">0</span><span class="p">)):</span>
        <span class="n">data_index</span> <span class="o">=</span> <span class="n">classes</span> <span class="o">==</span> <span class="n">i</span>

        <span class="n">data_i</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data_index</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">data_i</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mu</span><span class="p">[</span><span class="n">i</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">mean</span><span class="p">(</span><span class="n">data_i</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">mu</span>

<span class="k">def</span> <span class="nf">distortion</span><span class="p">(</span><span class="n">mu</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">X</span><span class="p">:</span>
        <span class="n">clazz</span>  <span class="o">=</span> <span class="n">mu</span><span class="p">[</span> <span class="n">c</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="n">mu</span><span class="p">),</span> <span class="p">:]</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">((</span><span class="n">d</span><span class="o">-</span><span class="n">clazz</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span>




<span class="k">def</span> <span class="nf">vis</span><span class="p">(</span><span class="n">itern</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">classify</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">mu</span><span class="p">)</span>

    <span class="n">figure</span><span class="p">();</span>
    <span class="n">title</span><span class="p">(</span><span class="s">"Iteration: </span><span class="si">%d</span><span class="s">, Distortion: </span><span class="si">%5.2f</span><span class="s">"</span> <span class="o">%</span> <span class="p">(</span><span class="n">itern</span><span class="p">,</span> <span class="n">distortion</span><span class="p">(</span><span class="n">mu</span><span class="p">))</span> <span class="p">)</span>
    <span class="n">xlim</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">));</span> <span class="n">ylim</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

    <span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span>  <span class="n">c</span><span class="o">=</span><span class="n">C</span><span class="p">,</span>  <span class="n">s</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">scatter</span><span class="p">(</span><span class="n">mu</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">mu</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">200</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">classes</span><span class="p">),</span> <span class="n">marker</span><span class="o">=</span><span class="s">'+'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">vis_paths</span><span class="p">(</span><span class="n">mu_hist</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mu_hist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">mu_cur</span><span class="p">,</span> <span class="n">mu_next</span> <span class="o">=</span> <span class="n">mu_hist</span><span class="p">[</span><span class="n">t</span><span class="p">],</span> <span class="n">mu_hist</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">classes</span><span class="p">):</span>
            <span class="n">cur</span>  <span class="o">=</span> <span class="n">mu_cur</span><span class="p">[</span><span class="n">c</span><span class="p">,:]</span>
            <span class="nb">next</span> <span class="o">=</span> <span class="n">mu_next</span><span class="p">[</span><span class="n">c</span><span class="p">,:]</span>

            <span class="n">velo</span> <span class="o">=</span> <span class="nb">next</span> <span class="o">-</span> <span class="n">cur</span>

            <span class="n">x_cur</span><span class="p">,</span> <span class="n">y_cur</span>  <span class="o">=</span> <span class="n">cur</span>
            <span class="n">x_next</span><span class="p">,</span> <span class="n">y_next</span>  <span class="o">=</span> <span class="n">velo</span>

            <span class="n">arrow</span><span class="p">(</span> <span class="n">x_cur</span><span class="p">,</span> <span class="n">y_cur</span><span class="p">,</span> <span class="n">x_next</span><span class="p">,</span> <span class="n">y_next</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s">'k'</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s">'k'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">cm</span><span class="o">.</span><span class="n">hot</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="c"># head_width=0.1, head_length=0.3)</span>
          <span class="c">#  print(c,":", x_cur, y_cur, x_next, y_next)</span>




<span class="n">mu</span> <span class="o">=</span> <span class="n">newClass</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[[</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">]],</span> <span class="n">classes</span><span class="p">)</span>

<span class="c">#figure()</span>
<span class="n">vis</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
<span class="c">#classify(X,mu)</span>
<span class="n">savefig</span><span class="p">(</span><span class="s">"000.png"</span><span class="p">)</span>

<span class="n">mu_hist</span> <span class="o">=</span> <span class="p">[</span><span class="n">mu</span><span class="p">]</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">22</span><span class="p">):</span>
    <span class="n">mu</span> <span class="o">=</span> <span class="n">recalculate</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">mu</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
    <span class="n">mu_hist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mu</span><span class="p">)</span>

    <span class="n">vis</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    <span class="n">vis_paths</span><span class="p">(</span><span class="n">mu_hist</span><span class="p">)</span>
    <span class="n">savefig</span><span class="p">(</span><span class="s">"</span><span class="si">%03d</span><span class="s">.png"</span><span class="o">%</span><span class="n">n</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">mu_hist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">mu_hist</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
        <span class="k">break</span><span class="p">;</span>

<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">'convert -delay 100 *.png isodata.gif'</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">'rm *.png'</span><span class="p">)</span>
</pre>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/20130917-elias-code.html" class="u-url">Elias Code Generation</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Alexander Weigl</span></p>
            <p class="dateline"><a href="posts/20130917-elias-code.html" rel="bookmark"><time class="published dt-published" datetime="2013-09-17T16:35:00+00:00" itemprop="datePublished" title="Publication date">2013-09-17 16:35</time></a></p>
        </div>
    </header>
    <div class="e-content entry-content">
    <div>
<p>Simple python script for generating elias-<span class="math">\(\gamma\)</span>
, <span class="math">\(\delta\)</span>
, unary and golomb codes.
Here is an example output with <span class="math">\(\gamma\)</span>
, <span class="math">\(\delta\)</span>
, and golomb-code.</p>
<pre class="code literal-block">
$ python elias.py
0: 0          : 0          : 0000000
1: 100        : 1000       : 0000001
2: 1100       : 11000      : 0000010
3: 1101       : 11001      : 0000011
4: 111000     : 110100     : 0000100
5: 111001     : 110101     : 0000101
6: 111010     : 110110     : 0000110
7: 111011     : 110111     : 0000111
8: 11110000   : 111000000  : 0001000
9: 11110001   : 111000001  : 0001001
</pre>
<p><a class="reference external" href="listings/elias.py.html">elias.py</a></p>
<pre class="code python literal-block">
<span class="c">#!/usr/bin/python</span>

<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">log</span><span class="p">,</span><span class="n">ceil</span>

<span class="n">log2</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">binary</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">l</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">fmt</span> <span class="o">=</span> <span class="s">'{0:0</span><span class="si">%d</span><span class="s">b}'</span> <span class="o">%</span> <span class="n">l</span>
        <span class="k">return</span> <span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">unary</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="s">'1'</span><span class="o">+</span><span class="s">'0'</span>

<span class="k">def</span> <span class="nf">elias_generic</span><span class="p">(</span><span class="n">lencoding</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="s">'0'</span>

        <span class="n">l</span> <span class="o">=</span> <span class="mi">1</span><span class="o">+</span><span class="nb">int</span><span class="p">(</span><span class="n">log2</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">log2</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>

        <span class="n">k</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">log2</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">lencoding</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">+</span> <span class="n">binary</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">k</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">golomb</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="n">q</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">x</span><span class="p">)</span> <span class="o">/</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">x</span><span class="p">)</span> <span class="o">%</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">l</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">ceil</span><span class="p">(</span><span class="n">log2</span><span class="p">(</span><span class="n">b</span><span class="p">)))</span>

        <span class="k">return</span> <span class="n">unary</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="o">+</span> <span class="n">binary</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>

<span class="n">elias_gamma</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">elias_generic</span><span class="p">(</span><span class="n">unary</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">elias_delta</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">elias_generic</span><span class="p">(</span><span class="n">elias_gamma</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">"</span><span class="si">%5d</span><span class="s">: </span><span class="si">%-10s</span><span class="s"> : </span><span class="si">%-10s</span><span class="s"> : </span><span class="si">%-10s</span><span class="s">"</span> <span class="o">%</span> \
                <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">elias_gamma</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="n">elias_delta</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">golomb</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="n">i</span><span class="p">))</span>
</pre>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/multi-layer-perceptron.html" class="u-url">Multi Layer Perceptron</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Alexander Weigl</span></p>
            <p class="dateline"><a href="posts/multi-layer-perceptron.html" rel="bookmark"><time class="published dt-published" datetime="2013-09-10T20:41:04+00:00" itemprop="datePublished" title="Publication date">2013-09-10 20:41</time></a></p>
        </div>
    </header>
    <div class="e-content entry-content">
    <div>
<p>Just a simple demonstration for a multilayer perceptron.</p>
<div class="figure align-center">
<img alt="alternate text" src="images/mlp1.png" style="width: 400px;">
<p class="caption">The decision function</p>
</div>
<p><a class="reference external" href="listings/mlp-test.py.html">mlp-test.py</a></p>
<pre class="code python literal-block">
<span class="c">#!/usr/bin/python</span>

<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">matplotlib.pylab</span> <span class="kn">import</span> <span class="o">*</span>


<span class="n">w1</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span> <span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">w2</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">])</span>
<span class="n">w3</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">])</span>

<span class="n">act</span>    <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span>           <span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
<span class="n">net</span>    <span class="o">=</span> <span class="k">lambda</span> <span class="n">a</span>     <span class="p">,</span>    <span class="n">b</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">array</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
<span class="n">neuron</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">weight</span><span class="p">,</span> <span class="n">inpt</span><span class="p">:</span> <span class="n">act</span><span class="p">(</span><span class="n">net</span><span class="p">(</span><span class="n">weight</span><span class="p">,</span><span class="n">inpt</span><span class="p">))</span>
<span class="n">mlp</span>    <span class="o">=</span> <span class="k">lambda</span>         <span class="n">inpt</span><span class="p">:</span> <span class="n">neuron</span><span class="p">(</span><span class="n">w3</span><span class="p">,</span> <span class="p">[</span> <span class="n">neuron</span><span class="p">(</span><span class="n">w1</span><span class="p">,</span><span class="n">inpt</span><span class="p">)</span> <span class="p">,</span> <span class="n">neuron</span><span class="p">(</span><span class="n">w2</span><span class="p">,</span> <span class="n">inpt</span><span class="p">),</span> <span class="mi">1</span><span class="p">])</span>

<span class="n">N</span><span class="o">=</span><span class="mi">100</span>
<span class="n">space</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">((</span><span class="n">N</span><span class="o">*</span><span class="n">N</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>

<span class="n">i</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">space</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">space</span><span class="p">:</span>
    <span class="n">inpt</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">mlp</span><span class="p">(</span><span class="n">inpt</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
      <span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">array</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">result</span><span class="p">))</span>
      <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>

<span class="n">figure</span><span class="p">()</span>
<span class="n">hold</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="n">scatter</span><span class="p">(</span><span class="n">M</span><span class="p">[:</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">M</span><span class="p">[:</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">space</span><span class="p">,</span> <span class="n">space</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">space</span><span class="p">,</span> <span class="o">-</span><span class="n">space</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">savefig</span><span class="p">(</span><span class="s">'mlp1.png'</span><span class="p">)</span>
<span class="n">show</span><span class="p">()</span>
</pre>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/201210craigsche-interpolationslemma.html" class="u-url">Craig'sche Interpolation Lemma</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Alexander Weigl</span></p>
            <p class="dateline"><a href="posts/201210craigsche-interpolationslemma.html" rel="bookmark"><time class="published dt-published" datetime="2012-10-18T00:00:00+00:00" itemprop="datePublished" title="Publication date">2012-10-18 00:00</time></a></p>
        </div>
    </header>
    <div class="e-content entry-content">
    <div>
<p><strong>Satz:</strong>
Seien $A,B$ zwei aussagenlogische Formeln und es gilt <span class="math">\(\models A \Rightarrow B\)</span>
 (Tautologie), dann existiert eine aussagenlogische Formeln $C$, sodass</p>
<div class="math">
\begin{equation*}
\models A \Rightarrow C \text{ und } \models C \Rightarrow B
\end{equation*}
</div>
<p>wobei $C$ nur aus Konstanten $w,f$ und gemeinsamen Atome von $A,B$ besteht.</p>
<p><em>Beispiel:</em> Nehmen wir an, dass <span class="math">\(A := p \wedge q\)</span>

und <span class="math">\(B:= q \vee r\)</span>
. Dann ist  $C := q$.</p>
<p>Testen wir die Tautologien:</p>
<div class="math">
\begin{equation*}
p \wedge q \Rightarrow q \equiv~ \neg p \vee \neg q \vee q \equiv w
\end{equation*}
</div>
<div class="math">
\begin{equation*}
q~ \Rightarrow q \vee r \equiv~ \neg q \vee q \vee r \equiv w
\end{equation*}
</div>
<p><em>Beweis (konstrutiv):</em></p>
<p><em>Erster Teil</em> ($models A Rightarrow C$). Sei $C$ eine Disjunktion wie folgt:</p>
<div class="math">
\begin{equation*}
C := \bigvee A[c_1,\ldots, c_n]
\end{equation*}
</div>
<p>dabei ersetzen wir die Atome <span class="math">\(P_1, \ldots, P_n\)</span>
 aus $A$, die <em>nicht</em> in $B$ vorkommen durch alle möglichen Kombinationen von Konstanten <span class="math">\(c_1,\ldots,c_n \in \{w,f\}\)</span>
. Für jede Interpretation $I$ mit $val_I(A) = w$ gilt: $val_I(C)=w$. Denn in der Disjunktion $C$ taucht jede mögliche Kombination der Wahrheitswerte von $P_i$ auf. Der Term der Disjunktion der $C$ wahr macht ist dieser mit:</p>
<div class="math">
\begin{equation*}
A[c_1, \ldots, c_n] \text{ mit } c_i = val_I(P_i)
\end{equation*}
</div>
<p><em>Zweiter Teil</em> (<span class="math">\(\models C \Rightarrow B\)</span>
).</p>
<p>Sei $I$ eine Interpretation mit $val_I(C) = w$. Dann ist mind. ein Term der
Disjunktion wahr. Wir konstruieren eine Hilfeinterpretation $J$ wie folgt:</p>
<div class="math">
\begin{equation*}
J(P) =      \begin{cases}
            c_i &amp; \colon  P = P_i \text{ für } 1\le i \le n \\
            I(P) &amp; \colon \text{ sonst}
            \end{cases}
\end{equation*}
</div>
<p>$J$ ist ein Modell von $C$ und $A$. Nach Vorrausetzung (<span class="math">\(A \Rightarrow B\)</span>
) folgt
$val_J(B) = w$. Für alle Atome in $B$ trifft die Interpretation $J$ die gleiche
Aussage wie $I$. ($P_i$ waren die Atome aus <span class="math">\(P_i \in A \wedge P_i \notin B\)</span>
).
Also folgt $val_I(B) = w$.</p>
<p><strong>Beispiel:</strong> Zurück zu unseren Beispiel. Wie konstruieren das $C$ nun nachdem
Beweis.</p>
<div class="math">
\begin{equation*}
C := A[p=0] \vee A[p=1] \equiv (0 \wedge q) \vee (1 \wedge q) \equiv q
\end{equation*}
</div>
</div>
    </div>
    </article>
</div>

               <script>var disqus_shortname="nikolademo";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>


        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});</script>
        <script src="assets/js/mathjax.js"></script>

        </div>
        <!--End of body content-->

        <footer>
            
2014 - <a href="mailto:uiduw@student.kit.edu">Alexander Weigl</a> 
        </footer>
    </div>
</div>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
  <script src="assets/js/all.js"></script>
  <script src="assets/js/jquery.colorbox-min.js"></script>

    <script>jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>

</body>
</html>

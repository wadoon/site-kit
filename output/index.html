<!DOCTYPE html><html lang="en">
<head>
    
    <meta charset="utf-8">
    <meta name="description" content=" - empty - ">
    <meta name="author" content="Alexander Weigl">
    <title>weigl::io | weigl::io</title>
    
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
      Macros: {
            RR: "{\\mathbf{R}}",
	    br: "&",
            bold: ["{\\bf #1}",1]
      }
  }
});


MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
    },
    displayAlign: 'center', // Change this to 'center' to center equations.
    asciimath2jax: {
         delimiters: [[ '``', '``']]
    },
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script>

            <link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
            <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">

    
    
    
 <link rel="stylesheet" type="text/css" href="assets/css/tipuesearch.css">
 </head><body><div id="tipue_search_content" style="margin-left: auto; margin-right: auto; padding: 20px;"></div>
 



    <!--Sidebar content-->
    <ul id="sidebar">
    
                <li><a href="archive.html">Archives</a>
                </li><li><a href="categories/index.html">Tags</a>
                </li><li><a href="rss.xml">RSS</a>

    </li><li>
 <span class="navbar-form pull-left">
 <input placeholder="Search" type="text" id="tipue_search_input">
 </span></li>
    </ul>


    <h1 id="blog-title">
        <a href="." title="weigl::io">weigl::io</a>
    </h1>
		
		<!--	 -->

    
<div class="postbox">
	<h1 class="post-title"><a href="posts/conclusion-2nd-semester-msc.html">Conclusion second semester (MSc)</a></h1>
  <small class="post-title">
		<time class="published" datetime="2013-10-04T11:24:24">
			2013-10-04 11:24</time>
		</small>
  <hr>
  <p>Here my little conclusion of the summer semester 2013.
It was my second semester at the Karlsruher Institute of Technology in the study path for M.Sc. in Computer Science.</p>
<p>I visited the following lectures (I keep the original titles):</p>
<ul>
<li>
<p>VF 1: Theoretische Grundlagen</p>
<ul>
<li><em>Formale Systeme II</em> (formal systems) -- nice course with script</li>
<li><em>Anwendung formaler Verifikation mit Übung</em> (applied formal verification) -- could be better, more content and harder excercises should be a good beginning</li>
<li><em>Unscharfe Mengen</em> (fuzzy set/logic) -- a good and theoretical start into fuzzy logic/sets. A split in two lectures (with more content) is planned.</li>
<li><em>Textindexierung</em> (text indexing) -- In this year, this was not very deep. The most things was self-explaining.</li>
</ul>
</li>
<li>
<p>VF 14: Kognitive Systeme</p>
<ul>
<li><em>Kognitive Systeme</em> (cognitive systems)-- [Stammmodule] Overview about speech/image processing and robotics. In my opinion the materials of speech processing should rewritten and the excercises are far far away from the lecture.</li>
<li><em>Medizinische Simulationssysteme II</em>   (medical simulation system II) -- a good lecture on a very new topic (for computer scientist)</li>
<li><em>Neuronale Netze</em> (neuronal nets) -- I hoped of a more theoretical lecture with more content.</li>
</ul>
</li>
<li>
<p>Wahlfach:</p>
<ul>
<li>Seminar in Ambient Assisted Living -- A seminar of horror.</li>
<li>B.1 Science -- An useless english course for me.</li>
</ul>
</li>
<li>
<p>EF: Biomedizinische Messtechnik</p>
<ul>
<li><em>Biomedizinische Messtechnik II</em> -- The same bad lecturing style as the predessor course.</li>
<li><em>Bioelektrische Signale</em> -- A good course; similiar in style I know from my old university.</li>
</ul>
</li>
</ul>
<p>My credit account is 68 credits now. For my third semester I only need
22 points in addition to my master thesis. But I have a lot of
constraints to satisfy for seminars and key competences. From the 22
points I only need to hear 16 points.</p>
<p>So my next lectures will be:</p>
<p>exam only:
  * Biomedizinische Messtechnik I  (3 credits)
  * Biomedizinische Messtechnik II (3 credits)
  * Fortgeschrittene Datenstrukturen    (5 credits, because I need to get the
  module full)</p>
<p>hearing and exam:
  * Physologie und Anatomie I  (3 credits)
  * Praktikum (6 credits)
  * Seminar (3 credits)
  * key competences (4 credits)</p>
<p>After this I will have 95 credits (five more than needed) and no room
for Medizinische Simulations I+II.</p>
</div>
<div class="postbox">
	<h1 class="post-title"><a href="posts/isodata-clustering.html">isodata clustering</a></h1>
  <small class="post-title">
		<time class="published" datetime="2013-09-17T16:40:28">
			2013-09-17 16:40</time>
		</small>
  <hr>
  <div class="figure align-center">
<img alt="alternate text" src="images/isodata.gif" style="width: 400px;">
<p class="caption">The decision function</p>
</div>
<p><a class="reference external" href="listings/isodata.py.html">isodata.py</a></p>
<pre class="code python literal-block">
<span class="c"># -*- coding: utf-8 -*-</span>

<span class="c"># # Berechnung von IsoData (Unsupervised Learning)</span>
<span class="c"># </span>
<span class="c"># 0. generate data</span>
<span class="c"># 1. guess mu_i </span>
<span class="c"># 2. classify </span>
<span class="c"># 3. adapt mu_i</span>
<span class="c"># 4. -&gt; 2</span>



<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span><span class="nn">sys</span> 
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span>   <span class="nn">matplotlib.pylab</span> <span class="kn">import</span> <span class="o">*</span>


<span class="k">def</span> <span class="nf">newClass</span><span class="p">(</span> <span class="n">mu</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">multivariate_normal</span><span class="p">(</span> <span class="n">mu</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span>
 <span class="n">newClass</span><span class="p">(</span> <span class="p">[</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="p">,</span> <span class="p">[[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]</span> <span class="p">],</span> <span class="mi">20</span><span class="p">),</span>
 <span class="n">newClass</span><span class="p">(</span> <span class="p">[</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="p">,</span> <span class="p">[[</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">0.1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]</span> <span class="p">],</span> <span class="mi">20</span><span class="p">),</span>
 <span class="n">newClass</span><span class="p">(</span> <span class="p">[</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span> <span class="p">,</span> <span class="p">[[</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">0.1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]</span> <span class="p">],</span> <span class="mi">20</span><span class="p">),</span>
<span class="c"># newClass( [ 8, 6] , [[0.4,0.1], [0.6, 0.3] ], 20),</span>
<span class="c"># newClass( [ 5, 1] , [[0.4,0.1], [0.2, 0.3] ], 20), </span>
<span class="c"># newClass( [ 1, 4] , [[0.3,0.1], [0.3, 0.3] ], 20),</span>
 <span class="n">newClass</span><span class="p">(</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="p">,</span> <span class="p">[[</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]</span> <span class="p">],</span> <span class="mi">20</span><span class="p">)</span> <span class="p">))</span>

<span class="n">classes</span><span class="p">,</span> <span class="n">dim</span>  <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span>

<span class="k">def</span> <span class="nf">c</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
    <span class="n">min_dist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span>
    <span class="n">min_class</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">for</span> <span class="n">c</span><span class="p">,</span> <span class="n">mu_c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mu</span><span class="p">):</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span> <span class="n">d</span> <span class="o">-</span> <span class="n">mu_c</span> <span class="p">)</span>
        <span class="k">if</span> <span class="n">dist</span> <span class="o">&lt;=</span> <span class="n">min_dist</span><span class="p">:</span>
            <span class="n">min_class</span> <span class="o">=</span> <span class="n">c</span>
            <span class="n">min_dist</span> <span class="o">=</span> <span class="n">dist</span>
    <span class="k">return</span> <span class="n">min_class</span>

<span class="k">def</span> <span class="nf">classify</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
    <span class="n">classes</span> <span class="o">=</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>      
        <span class="n">classes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="n">mu</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">classes</span>

<span class="k">def</span> <span class="nf">recalculate</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
    <span class="n">classes</span> <span class="o">=</span> <span class="n">classify</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="mi">0</span><span class="p">)):</span>
        <span class="n">data_index</span> <span class="o">=</span> <span class="n">classes</span> <span class="o">==</span> <span class="n">i</span>
        
        <span class="n">data_i</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data_index</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">data_i</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mu</span><span class="p">[</span><span class="n">i</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">mean</span><span class="p">(</span><span class="n">data_i</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="n">mu</span>

<span class="k">def</span> <span class="nf">distortion</span><span class="p">(</span><span class="n">mu</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">X</span><span class="p">:</span>
        <span class="n">clazz</span>  <span class="o">=</span> <span class="n">mu</span><span class="p">[</span> <span class="n">c</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="n">mu</span><span class="p">),</span> <span class="p">:]</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">((</span><span class="n">d</span><span class="o">-</span><span class="n">clazz</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span>
        
       


<span class="k">def</span> <span class="nf">vis</span><span class="p">(</span><span class="n">itern</span><span class="p">,</span> <span class="n">mu</span><span class="p">):</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">classify</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">mu</span><span class="p">)</span>

    <span class="n">figure</span><span class="p">();</span> 
    <span class="n">title</span><span class="p">(</span><span class="s">"Iteration: </span><span class="si">%d</span><span class="s">, Distortion: </span><span class="si">%5.2f</span><span class="s">"</span> <span class="o">%</span> <span class="p">(</span><span class="n">itern</span><span class="p">,</span> <span class="n">distortion</span><span class="p">(</span><span class="n">mu</span><span class="p">))</span> <span class="p">)</span>
    <span class="n">xlim</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">));</span> <span class="n">ylim</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

    <span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span>  <span class="n">c</span><span class="o">=</span><span class="n">C</span><span class="p">,</span>  <span class="n">s</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">scatter</span><span class="p">(</span><span class="n">mu</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">mu</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">200</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">classes</span><span class="p">),</span> <span class="n">marker</span><span class="o">=</span><span class="s">'+'</span><span class="p">)</span>
    
<span class="k">def</span> <span class="nf">vis_paths</span><span class="p">(</span><span class="n">mu_hist</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mu_hist</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">mu_cur</span><span class="p">,</span> <span class="n">mu_next</span> <span class="o">=</span> <span class="n">mu_hist</span><span class="p">[</span><span class="n">t</span><span class="p">],</span> <span class="n">mu_hist</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
            
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">classes</span><span class="p">):</span>
            <span class="n">cur</span>  <span class="o">=</span> <span class="n">mu_cur</span><span class="p">[</span><span class="n">c</span><span class="p">,:]</span>
            <span class="nb">next</span> <span class="o">=</span> <span class="n">mu_next</span><span class="p">[</span><span class="n">c</span><span class="p">,:]</span>

            <span class="n">velo</span> <span class="o">=</span> <span class="nb">next</span> <span class="o">-</span> <span class="n">cur</span>
    
            <span class="n">x_cur</span><span class="p">,</span> <span class="n">y_cur</span>  <span class="o">=</span> <span class="n">cur</span>
            <span class="n">x_next</span><span class="p">,</span> <span class="n">y_next</span>  <span class="o">=</span> <span class="n">velo</span>

            <span class="n">arrow</span><span class="p">(</span> <span class="n">x_cur</span><span class="p">,</span> <span class="n">y_cur</span><span class="p">,</span> <span class="n">x_next</span><span class="p">,</span> <span class="n">y_next</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s">'k'</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s">'k'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">cm</span><span class="o">.</span><span class="n">hot</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="c"># head_width=0.1, head_length=0.3)</span>
          <span class="c">#  print(c,":", x_cur, y_cur, x_next, y_next)</span>

            


<span class="n">mu</span> <span class="o">=</span> <span class="n">newClass</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[[</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">]],</span> <span class="n">classes</span><span class="p">)</span>

<span class="c">#figure()</span>
<span class="n">vis</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
<span class="c">#classify(X,mu)</span>
<span class="n">savefig</span><span class="p">(</span><span class="s">"000.png"</span><span class="p">)</span>

<span class="n">mu_hist</span> <span class="o">=</span> <span class="p">[</span><span class="n">mu</span><span class="p">]</span> 
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">22</span><span class="p">):</span>
    <span class="n">mu</span> <span class="o">=</span> <span class="n">recalculate</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">mu</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>  
    <span class="n">mu_hist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mu</span><span class="p">)</span>

    <span class="n">vis</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">mu</span><span class="p">)</span>
    <span class="n">vis_paths</span><span class="p">(</span><span class="n">mu_hist</span><span class="p">)</span>
    <span class="n">savefig</span><span class="p">(</span><span class="s">"</span><span class="si">%03d</span><span class="s">.png"</span><span class="o">%</span><span class="n">n</span><span class="p">)</span>	

    <span class="k">if</span> <span class="p">(</span><span class="n">mu_hist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">mu_hist</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
        <span class="k">break</span><span class="p">;</span>

<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">'convert -delay 100 *.png isodata.gif'</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">'rm *.png'</span><span class="p">)</span>
</pre>
</div>
<div class="postbox">
	<h1 class="post-title"><a href="posts/20130917-elias-code.html">Elias Code Generation</a></h1>
  <small class="post-title">
		<time class="published" datetime="2013-09-17T16:35:00">
			2013-09-17 16:35</time>
		</small>
  <hr>
  <p>Simple python script for generating elias-<span class="math">\(\gamma\)</span>
, <span class="math">\(\delta\)</span>
, unary and golomb codes.
Here is an example output with <span class="math">\(\gamma\)</span>
, <span class="math">\(\delta\)</span>
, and golomb-code.</p>
<pre class="code literal-block">
$ python elias.py
0: 0          : 0          : 0000000
1: 100        : 1000       : 0000001
2: 1100       : 11000      : 0000010
3: 1101       : 11001      : 0000011
4: 111000     : 110100     : 0000100
5: 111001     : 110101     : 0000101
6: 111010     : 110110     : 0000110
7: 111011     : 110111     : 0000111
8: 11110000   : 111000000  : 0001000
9: 11110001   : 111000001  : 0001001
</pre>
<p><a class="reference external" href="listings/elias.py.html">elias.py</a></p>
<pre class="code python literal-block">
<span class="c">#!/usr/bin/python</span>

<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">log</span><span class="p">,</span><span class="n">ceil</span>

<span class="n">log2</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">binary</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">l</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
	<span class="n">fmt</span> <span class="o">=</span> <span class="s">'{0:0</span><span class="si">%d</span><span class="s">b}'</span> <span class="o">%</span> <span class="n">l</span>
	<span class="k">return</span> <span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">unary</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
	<span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="s">'1'</span><span class="o">+</span><span class="s">'0'</span>

<span class="k">def</span> <span class="nf">elias_generic</span><span class="p">(</span><span class="n">lencoding</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
	<span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="s">'0'</span>
	
	<span class="n">l</span> <span class="o">=</span> <span class="mi">1</span><span class="o">+</span><span class="nb">int</span><span class="p">(</span><span class="n">log2</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
	<span class="n">a</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">log2</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
	
	<span class="n">k</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">log2</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

	<span class="k">return</span> <span class="n">lencoding</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">+</span> <span class="n">binary</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">k</span><span class="p">)</span>
	
<span class="k">def</span> <span class="nf">golomb</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
	<span class="n">q</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">x</span><span class="p">)</span> <span class="o">/</span> <span class="n">b</span><span class="p">)</span>
	<span class="n">r</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">x</span><span class="p">)</span> <span class="o">%</span> <span class="n">b</span><span class="p">)</span>
	<span class="n">l</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">ceil</span><span class="p">(</span><span class="n">log2</span><span class="p">(</span><span class="n">b</span><span class="p">)))</span>

	<span class="k">return</span> <span class="n">unary</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="o">+</span> <span class="n">binary</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
	
<span class="n">elias_gamma</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">elias_generic</span><span class="p">(</span><span class="n">unary</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">elias_delta</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">elias_generic</span><span class="p">(</span><span class="n">elias_gamma</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
	
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>	
	<span class="k">print</span> <span class="s">"</span><span class="si">%5d</span><span class="s">: </span><span class="si">%-10s</span><span class="s"> : </span><span class="si">%-10s</span><span class="s"> : </span><span class="si">%-10s</span><span class="s">"</span> <span class="o">%</span> \
		<span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">elias_gamma</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="n">elias_delta</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">golomb</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="n">i</span><span class="p">))</span>
</pre>
</div>
<div class="postbox">
	<h1 class="post-title"><a href="posts/multi-layer-perceptron.html">Multi Layer Perceptron</a></h1>
  <small class="post-title">
		<time class="published" datetime="2013-09-10T20:41:04">
			2013-09-10 20:41</time>
		</small>
  <hr>
  <p>Just a simple demonstration for a multilayer perceptron.</p>
<div class="figure align-center">
<img alt="alternate text" src="images/mlp1.png" style="width: 400px;">
<p class="caption">The decision function</p>
</div>
<p><a class="reference external" href="listings/mlp-test.py.html">mlp-test.py</a></p>
<pre class="code python literal-block">
<span class="c">#!/usr/bin/python</span>

<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">matplotlib.pylab</span> <span class="kn">import</span> <span class="o">*</span>


<span class="n">w1</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span> <span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">w2</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">])</span>
<span class="n">w3</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">])</span>

<span class="n">act</span>    <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span>           <span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
<span class="n">net</span>    <span class="o">=</span> <span class="k">lambda</span> <span class="n">a</span>     <span class="p">,</span>    <span class="n">b</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">array</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
<span class="n">neuron</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">weight</span><span class="p">,</span> <span class="n">inpt</span><span class="p">:</span> <span class="n">act</span><span class="p">(</span><span class="n">net</span><span class="p">(</span><span class="n">weight</span><span class="p">,</span><span class="n">inpt</span><span class="p">))</span>
<span class="n">mlp</span>    <span class="o">=</span> <span class="k">lambda</span>         <span class="n">inpt</span><span class="p">:</span> <span class="n">neuron</span><span class="p">(</span><span class="n">w3</span><span class="p">,</span> <span class="p">[</span> <span class="n">neuron</span><span class="p">(</span><span class="n">w1</span><span class="p">,</span><span class="n">inpt</span><span class="p">)</span> <span class="p">,</span> <span class="n">neuron</span><span class="p">(</span><span class="n">w2</span><span class="p">,</span> <span class="n">inpt</span><span class="p">),</span> <span class="mi">1</span><span class="p">])</span>

<span class="n">N</span><span class="o">=</span><span class="mi">100</span>
<span class="n">space</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">((</span><span class="n">N</span><span class="o">*</span><span class="n">N</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>

<span class="n">i</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">space</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">space</span><span class="p">:</span>
    <span class="n">inpt</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">mlp</span><span class="p">(</span><span class="n">inpt</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
      <span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">array</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">result</span><span class="p">))</span>
      <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>

<span class="n">figure</span><span class="p">()</span>
<span class="n">hold</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="n">scatter</span><span class="p">(</span><span class="n">M</span><span class="p">[:</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">M</span><span class="p">[:</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">space</span><span class="p">,</span> <span class="n">space</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">space</span><span class="p">,</span> <span class="o">-</span><span class="n">space</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">savefig</span><span class="p">(</span><span class="s">'mlp1.png'</span><span class="p">)</span>
<span class="n">show</span><span class="p">()</span>
</pre>
</div>
<div class="postbox">
	<h1 class="post-title"><a href="posts/201305sidenotes-with-latex-and-auctex.html">Sidenotes with LateX and Auctex</a></h1>
  <small class="post-title">
		<time class="published" datetime="2013-05-01T00:00:00">
			2013-05-01 00:00</time>
		</small>
  <hr>
  <p>I often use the following Latex snippet for creating small notes (like
paragraphs headings) for the reader's orientation: </p>
<div class="code"><pre>\newcommand\sidenote[1]{\marginpar{{\small \textsf{\textbf{#1}}}}}
</pre></div>


<p>This creates in the margin a smaller bolder sans-serif heading. If you want to
hide this macro within the fold-mode of auctex, you need to adapt following list
(see here):</p>
<p><strong><em><em>User Option:</em></em></strong> <strong>TeX-fold-macro-spec-list</strong>
</p><blockquote>
List of replacement specifiers and macros to fold. The
specifier can be a string, an integer or a function symbol. If you specify a
string, it will be used as a display replacement for the whole macro. Numbers in
braces, brackets, parens or angle brackets will be replaced by the respective
macro argument. For example ‘{1}’ will be replaced by the first mandatory
argument of the macro. One can also define alternatives within the specifier
which are used if an argument is not found. Alternatives are separated by ‘||’.
They are most useful with optional arguments. As an example, the default
specifier for ‘\item’ is ‘[1]:||*’ which means that if there is an optional
argument, its value is shown followed by a colon. If there is no optional
argument, only an asterisk is used as the display string. If you specify a
number as the first element, the content of the respective mandatory argument of
a LaTeX macro will be used as the placeholder. If the first element is a
function symbol, the function will be called with all mandatory arguments of the
macro and the result of the function call will be used as a replacement for the
macro. The placeholder is made by copying the text from the buffer together with
its properties, i.e. its face as well. If fontification has not happened when
this is done (e.g. because of lazy font locking) the intended fontification will
not show up. As a workaround you can leave Emacs idle a few seconds and wait for
stealth font locking to finish before you fold the buffer. Or you just re-fold
the buffer with TeX-fold-buffer when you notice a wrong fontification.
</blockquote>
<p>In our case we can need only to execute this:</p>
<div class="code"><pre><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">'TeX-fold-macro-spec-list</span>
    <span class="o">'</span><span class="p">(</span><span class="s">"[sidenote]"</span> <span class="p">(</span><span class="s">"sidenote"</span><span class="p">)))</span>
</pre></div>


<p>From the documentation you can derive this:</p>
<div class="code"><pre>TeX-fold-macro-spec-list := ( specifier* )
specifier                := ( {integer, symbol, string}  list-of-tex-macros)
list-of-tex-macros       := ( string* )
</pre></div>


<p>If we pass a string, the macro (+ arguments) will be replaced in fold by this
string. If we use “{n}” (or brackets, parens or angle brackets) the macro will
be substitue by the n-th argument. The same as you use an integer value. An
symbol with a bound function will be called by the macro mandatory arguments.</p>
<p>Inspect <em>TeX-fold-macro-spec-list</em> for more details:</p>
<div class="code"><pre><span class="p">((</span><span class="s">"[f]"</span>     <span class="p">(</span><span class="s">"sidenote"</span><span class="p">))</span>
 <span class="p">(</span><span class="s">"[f]"</span>     <span class="p">(</span><span class="s">"footnote"</span> <span class="s">"marginpar"</span><span class="p">))</span>
 <span class="p">(</span><span class="s">"[c]"</span>     <span class="p">(</span><span class="s">"cite"</span><span class="p">))</span>
 <span class="p">(</span><span class="s">"[l]"</span>     <span class="p">(</span><span class="s">"label"</span><span class="p">))</span>
 <span class="p">(</span><span class="s">"[r]"</span>     <span class="p">(</span><span class="s">"ref"</span> <span class="s">"pageref"</span> <span class="s">"eqref"</span><span class="p">))</span>
 <span class="p">(</span><span class="s">"[i]"</span>     <span class="p">(</span><span class="s">"index"</span> <span class="s">"glossary"</span><span class="p">))</span>
 <span class="p">(</span><span class="s">"[1]:||"</span>  <span class="p">(</span><span class="s">"item"</span><span class="p">))</span>
 <span class="p">(</span><span class="s">"…"</span>       <span class="p">(</span><span class="s">"dots"</span><span class="p">))</span>
 <span class="p">(</span><span class="s">"(C)"</span>     <span class="p">(</span><span class="s">"copyright"</span><span class="p">))</span>
 <span class="p">(</span><span class="s">"(R)"</span>     <span class="p">(</span><span class="s">"textregistered"</span><span class="p">))</span>
 <span class="p">(</span><span class="s">"TM"</span>      <span class="p">(</span><span class="s">"texttrademark"</span><span class="p">))</span>
 <span class="p">(</span><span class="mi">1</span>         <span class="p">(</span><span class="s">"part"</span> <span class="s">"chapter"</span> <span class="s">"section"</span> <span class="s">"subsection"</span> <span class="s">"subsubsection"</span>
             <span class="s">"paragraph"</span> <span class="s">"subparagraph"</span> <span class="s">"part"</span> <span class="s">"chapter"</span> <span class="s">"section"</span>
             <span class="s">"subsection"</span> <span class="s">"subsubsection"</span> <span class="s">"paragraph"</span> <span class="s">"subparagraph"</span>
             <span class="s">"emph"</span> <span class="s">"textit"</span> <span class="s">"textsl"</span> <span class="s">"textmd"</span> <span class="s">"textrm"</span> <span class="s">"textsf"</span>
             <span class="s">"texttt"</span> <span class="s">"textbf"</span> <span class="s">"textsc"</span> <span class="s">"textup"</span><span class="p">)))</span>
</pre></div>
</div>
<div class="postbox">
	<h1 class="post-title"><a href="posts/conclusion-1st-semester-msc.html">Semester conclusion: 1 M.Sc. KIT</a></h1>
  <small class="post-title">
		<time class="published" datetime="2013-04-23T23:04:00">
			2013-04-23 23:04</time>
		</small>
  <hr>
  <p>Here my little conclusion of the last semester (WS12/13). My first semester at
the Karlsruher Institute of Technology in the study path for M.Sc.</p>
<p>My lectures were:</p>
<ul>
<li>
<p>VF 1: Theoretische Grundlagen</p>
<ul>
<li>
<p><em>Advanced Datastructures</em> -- should be deeper in the analytical section
  and show more techniques and tools than explizit data structures. BADS'13
  was nice.</p>
</li>
<li>
<p>Formale Systeme -- Stammmodule - very dry topic and a good pace at the
  end, where it get excited (Büchi-Automata and Model-Checking)</p>
</li>
</ul>
</li>
<li>
<p>VF 14: Kognitive Systeme</p>
<ul>
<li>
<p>Automatische Sichtprüfung und Bildverarbeitung -- nice lecture, but the
focus is to much into the optics and physics (computer scientist solve
problems in the computer, not before)</p>
</li>
<li>
<p>Einführung in die Informationsfusion -- My benefit was not to much during
  this lecture- very dry but involed docent. The last section - more
  interresting - get very short and the probabilistic methods get too long.</p>
</li>
<li>
<p>Maschinelles Lernen I -- Too much topics, nothing in deep - but a nice
overview</p>
</li>
</ul>
</li>
<li>
<p>Wahlfach:</p>
<ul>
<li>Telematik -- »duty" lecture« -- nearly the same content as Rechnernetze in
  the second semester.</li>
</ul>
</li>
<li>
<p>EF: Biomedizinische Messtechnik</p>
<ul>
<li><em>Biomedizinische Messtechnik I</em> -- should be interresting, but was boring - docent was not well prepared*</li>
<li><em>Bildgebende Verfahren der Medizin I</em> -- a very fast speed during the lecture and high workload for 3 ECTS.</li>
</ul>
</li>
</ul>
<p>I visited courses for 32 ECTS. I did exam in 27 ECTS.
In conclusion: The workload is not presented in ECTS well. The exams are based
upon powerpoint slides, so you learn stupid bullet points.</p>
</div>
<div class="postbox">
	<h1 class="post-title"><a href="posts/20130405-dempster-shafer-theory.html">Dempster-Shafer-Theory</a></h1>
  <small class="post-title">
		<time class="published" datetime="2013-04-03T00:00:00">
			2013-04-03 00:00</time>
		</small>
  <hr>
  <p>I got bored. The result is a lousy implementation of the dempster recombination
rule (dcr) in dempster-shafer theory (dct).</p>
<p>The dct describes system of base function to bind uncertainty to specific events
(similar to Kolgomorov axioms). But the formulation of uncertainty is a kind
easier.</p>
<p>Let's say a sensor says A occurred and we trust the sensor to 60 %. We can
easily model this:</p>
<p>$$ m(A)=0.6,m(\Omega)=0.4$$</p>
<p>The event got 0.6 certainty, the rest got the 0.4. Notice that A⊂Ω (That the
difference to Kolgomorov). The axioms of dct for completeness:</p>
<ol>
<li>$0 \le m(A) \le 1$ for every event A</li>
<li>$ m(\emptyset)=0$</li>
<li>$\sum_{A \subset \Omega} m(A) = 1$</li>
</ol>
<p>The difference to Kolgomorov is the third axiom. In the normal probability  the
sum over every distinct events $X$ must be the sum $P(X)$:</p>
<p>$$P(\bigcup_i A_i = \sum_i P(A_i) $$</p>
<p>We can define base measures with dcr rule:</p>
<p>$$m_1 \oplus m_2 (A) = \begin{cases}\frac{\sum_{X \cap Y = A}
m_1(X)m_2(Y)}{1-\sum_{X \cap Y = 0} m_1(X)m_2(Y)} &amp; else \ 
0 &amp; A = \emptyset 
\end{cases}
$$</p>
<p>Additional we can define the function Bel for the degree of believe resp. Pl for
plausibility.</p>
<p>$$ Bel(A) = \sum_{X \subseteq A} m(x) \qquad\qquad
   PlA) = \sum_{X \cap A \neq \emptyset} m(x)$$</p>
<p>It follows: $0 \le Bel(A) \le Pl(A) \le 1$.
You can divide the interval $[0,1]$ into three parts:</p>
<ul>
<li>$[0,Bel(A)]$  describes certainty of event $A$</li>
<li>$[Bel(A),Pl(A)]$ describes the uncertainty of event $A$</li>
<li>$[Pl(A),1]$  describes certainty that the event $A$ does not occurred</li>
</ul>
<p>Example output:</p>
<div class="code"><pre>weigla@cook ~ % python drc.py
A: [m: 0.680000] [Bel 0.680000] [Pl 1.000000] ▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒▒▒
B: [m: 0.000000] [Bel 0.000000] [Pl 0.320000] ▒▒▒▒▒▒░░░░░░░░░░░░░░
C: [m: 0.000000] [Bel 0.000000] [Pl 0.320000] ▒▒▒▒▒▒░░░░░░░░░░░░░░
O: [m: 0.320000] [Bel 1.000000] [Pl 1.000000] ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓

A: [m: 0.438596] [Bel 0.438596] [Pl 0.438596] ▓▓▓▓▓▓▓▓░░░░░░░░░░░░
B: [m: 0.210526] [Bel 0.000000] [Pl 0.000000] ░░░░░░░░░░░░░░░░░░░░
C: [m: 0.350877] [Bel 0.000000] [Pl 0.000000] ░░░░░░░░░░░░░░░░░░░░
O: [m: 0.000000] [Bel 0.438596] [Pl 0.438596] ▓▓▓▓▓▓▓▓░░░░░░░░░░░░
</pre></div>


<p>drc.py:</p>
<div class="code"><pre>#-*- encoding: utf-8 -*-

class DictWrap(dict):
    def __call__(self,key): return self[key]

def drc(m1,m2):
    def appl(A):
        K = sum((m1(X)*m2(Y)
                for X in m1.keys()
                for Y in m2.keys()
                if len(X&amp;Y) == 0))    
        if A:
            s = sum(( m1(X)*m2(Y)
                      for X in m1.keys()
                      for Y in m2.keys()
                      if X&amp;Y == A))            
            return s/(1-K)
        else:
            return 0
    appl.keys = m1.keys
    return appl


def Pl(m, event):
    return sum( [m(X) for X in m.keys() 
                     if len(X &amp; event) &gt; 0])

def Bel(m,event):
    return sum( [m(X) for X in m.keys() 
                     if X &lt;= event])

#events 
A = frozenset(('A',))
B = frozenset(('B',))
C = frozenset(('C',))
OMEGA = A | B | C

#example: two sensors
s1 = DictWrap({ A : 0.6, OMEGA: 0.4}) # s1 mesaures A with certainty of 60%
s2 = DictWrap({ A : 0.2, OMEGA: 0.8}) # s2 mesaures A with certainty of 20%

#combine
fusion = drc(s1,s2)
def show(text, event):
    print '%s: [m: %f] [Bel %f] [Pl %f]' % (text, 
                                       fusion(event),
                                       Bel(fusion,event), 
                                       Pl(fusion,event)),
    print_bar(Bel(fusion,event), Pl(fusion,event))

from math import ceil as round

def print_bar(bel, pl, width = 20):
    fbel = int(width * bel)
    fpl = int(width * pl)

a = fbel 
b = fpl - fbel 
c = width - fpl 
print ('▓' * a) + ('▒' * b) + ('░' * c)

show('A', A); show('B', B); show('C', C); show('O', OMEGA)

#combine 
s3 = DictWrap({ A: 0.2, B: 0.3, C: 0.5})
fusion = drc(fusion,s3)

show('A', A); show('B', B); show('C', C); show('O', OMEGA)
</pre></div>
</div>
<div class="postbox">
	<h1 class="post-title"><a href="posts/201210craigsche-interpolationslemma.html">Craig'sche Interpolation Lemma</a></h1>
  <small class="post-title">
		<time class="published" datetime="2012-10-18T00:00:00">
			2012-10-18 00:00</time>
		</small>
  <hr>
  <p><strong>Satz:</strong>
Seien $A,B$ zwei aussagenlogische Formeln und es gilt <span class="math">\(\models A \Rightarrow B\)</span>
 (Tautologie), dann existiert eine aussagenlogische Formeln $C$, sodass</p>
<div class="math">
\begin{equation*}
\models A \Rightarrow C \text{ und } \models C \Rightarrow B
\end{equation*}
</div>
<p>wobei $C$ nur aus Konstanten $w,f$ und gemeinsamen Atome von $A,B$ besteht.</p>
<p><em>Beispiel:</em> Nehmen wir an, dass <span class="math">\(A := p \wedge q\)</span>

und <span class="math">\(B:= q \vee r\)</span>
. Dann ist  $C := q$.</p>
<p>Testen wir die Tautologien:</p>
<div class="math">
\begin{equation*}
p \wedge q \Rightarrow q \equiv~ \neg p \vee \neg q \vee q \equiv w
\end{equation*}
</div>
<div class="math">
\begin{equation*}
q~ \Rightarrow q \vee r \equiv~ \neg q \vee q \vee r \equiv w
\end{equation*}
</div>
<p><em>Beweis (konstrutiv):</em></p>
<p><em>Erster Teil</em> ($models A Rightarrow C$). Sei $C$ eine Disjunktion wie folgt:</p>
<div class="math">
\begin{equation*}
C := \bigvee A[c_1,\ldots, c_n]
\end{equation*}
</div>
<p>dabei ersetzen wir die Atome <span class="math">\(P_1, \ldots, P_n\)</span>
 aus $A$, die <em>nicht</em> in $B$ vorkommen durch alle möglichen Kombinationen von Konstanten <span class="math">\(c_1,\ldots,c_n \in \{w,f\}\)</span>
. Für jede Interpretation $I$ mit $val_I(A) = w$ gilt: $val_I(C)=w$. Denn in der Disjunktion $C$ taucht jede mögliche Kombination der Wahrheitswerte von $P_i$ auf. Der Term der Disjunktion der $C$ wahr macht ist dieser mit:</p>
<div class="math">
\begin{equation*}
A[c_1, \ldots, c_n] \text{ mit } c_i = val_I(P_i)
\end{equation*}
</div>
<p><em>Zweiter Teil</em> (<span class="math">\(\models C \Rightarrow B\)</span>
).</p>
<p>Sei $I$ eine Interpretation mit $val_I(C) = w$. Dann ist mind. ein Term der
Disjunktion wahr. Wir konstruieren eine Hilfeinterpretation $J$ wie folgt:</p>
<div class="math">
\begin{equation*}
J(P) =      \begin{cases}
            c_i &amp; \colon  P = P_i \text{ für } 1\le i \le n \\
            I(P) &amp; \colon \text{ sonst}
            \end{cases}
\end{equation*}
</div>
<p>$J$ ist ein Modell von $C$ und $A$. Nach Vorrausetzung (<span class="math">\(A \Rightarrow B\)</span>
) folgt
$val_J(B) = w$. Für alle Atome in $B$ trifft die Interpretation $J$ die gleiche
Aussage wie $I$. ($P_i$ waren die Atome aus <span class="math">\(P_i \in A \wedge P_i \notin B\)</span>
).
Also folgt $val_I(B) = w$.</p>
<p><strong>Beispiel:</strong> Zurück zu unseren Beispiel. Wie konstruieren das $C$ nun nachdem
Beweis.</p>
<div class="math">
\begin{equation*}
C := A[p=0] \vee A[p=1] \equiv (0 \wedge q) \vee (1 \wedge q) \equiv q
\end{equation*}
</div>
</div>
<div class="postbox">
	<h1 class="post-title"><a href="posts/201210organizing-musc.html">Organizing Music</a></h1>
  <small class="post-title">
		<time class="published" datetime="2012-10-01T00:00:00">
			2012-10-01 00:00</time>
		</small>
  <hr>
  <p>Do want to reorganize your music collection, but Amarok or other players are to
hard wired? I got this problem with LP from different artists, that would be
spread other the whole collection. So here is a little script for reorganizing
music collection, based on the database written by rhythmbox.</p>
<p>It tries to determine, if an album is a anthology of different artists and put this in:</p>
<blockquote>
<p>$music/<album>/$track - $artist - $album - $title.$suffix</album></p>
</blockquote>
<p>rather than albums from one artists:</p>
<blockquote>
<p>$music/&lt;artist&gt;/<album>/$track - $artist - $album - $title.$suffix</album></p>
</blockquote>
<p>Feel free to modify. This version do not copy or move the files. It creates hard links.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115</pre></div></td><td class="code"><div class="code"><pre><span class="c">#!/usr/bin/python3</span>
<span class="c"># -*- encoding: utf-8 -*-</span>

<span class="n">__author__</span>  <span class="o">=</span> <span class="s">"Alexander Weigl &lt;alexweigl@gmail.com&gt;"</span>

<span class="n">__license__</span> <span class="o">=</span> <span class="s">"cc-by-sa 3.0"</span>
<span class="n">__date__</span>    <span class="o">=</span> <span class="s">"2012-10-02"</span>

<span class="kn">import</span> <span class="nn">os</span> <span class="o">,</span> <span class="nn">os.path</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">from</span> <span class="nn">string</span> <span class="k">import</span> <span class="n">Template</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="k">import</span> <span class="n">unquote</span>
<span class="kn">from</span> <span class="nn">lxml</span> <span class="k">import</span> <span class="n">etree</span>

<span class="n">PREFIX</span> <span class="o">=</span> <span class="s">"file://"</span>
<span class="n">RHYTHMDB</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">"~/.local/share/rhythmbox/rhythmdb.xml"</span><span class="p">)</span>
<span class="n">MUSIC_PATH</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">"~/tmp/musc"</span><span class="p">)</span>
<span class="n">TEMPLATE</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">"$track - $artist - $album - $title.$suffix"</span><span class="p">)</span>
<span class="n">VERBOSE</span> <span class="o">=</span> <span class="k">True</span>

<span class="k">def</span> <span class="nf">mkdir</span><span class="p">(</span><span class="n">p</span><span class="p">):</span>
<span class="sd">"""</span>
<span class="sd">    save wrapper for os.mkdir</span>
<span class="sd">"""</span>
<span class="k">try</span><span class="p">:</span> 
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="k">return</span>

<span class="n">COUNTER</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">link</span><span class="p">(</span><span class="n">old</span><span class="p">,</span><span class="n">new</span><span class="p">):</span>
<span class="s">"wrapper for os.link"</span>
<span class="k">global</span> <span class="n">COUNTER</span>
<span class="k">try</span><span class="p">:</span>
<span class="k">if</span> <span class="n">VERBOSE</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s">"Link '%s' to '%s'"</span> <span class="o">%</span><span class="p">(</span> <span class="n">old</span><span class="p">,</span> <span class="n">new</span><span class="p">))</span> 
        <span class="n">os</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">old</span><span class="p">,</span><span class="n">new</span><span class="p">)</span>
        <span class="n">COUNTER</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="c">#print(e)</span>
<span class="k">pass</span>


<span class="k">def</span> <span class="nf">entry_to_dict</span><span class="p">(</span><span class="n">lis</span><span class="p">):</span>
<span class="s">"translate an enty from rhymthmdb to a dictionary"</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">ele</span> <span class="ow">in</span> <span class="n">lis</span><span class="p">:</span>
        <span class="n">d</span><span class="p">[</span><span class="n">ele</span><span class="o">.</span><span class="n">tag</span><span class="p">]</span> <span class="o">=</span> <span class="n">ele</span><span class="o">.</span><span class="n">text</span>

    <span class="n">d</span><span class="p">[</span><span class="s">'album'</span><span class="p">]</span> <span class="o">=</span> <span class="s">"Unbekannt "</span> <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s">'album'</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="k">None</span><span class="p">,</span> <span class="s">""</span><span class="p">)</span> <span class="k">else</span> <span class="n">d</span><span class="p">[</span><span class="s">'album'</span><span class="p">]</span>
    <span class="n">d</span><span class="p">[</span><span class="s">'file'</span><span class="p">]</span> <span class="o">=</span> <span class="n">unquote</span><span class="p">(</span> <span class="n">d</span><span class="p">[</span><span class="s">'location'</span><span class="p">][</span><span class="nb">len</span><span class="p">(</span><span class="n">PREFIX</span><span class="p">):]</span> <span class="p">)</span>
    <span class="n">d</span><span class="p">[</span><span class="s">'track'</span><span class="p">]</span> <span class="o">=</span> <span class="s">"%02d"</span> <span class="o">%</span> <span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'track-number'</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span> <span class="c">#for templating</span>
    <span class="n">d</span><span class="p">[</span><span class="s">'suffix'</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s">'file'</span><span class="p">][</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span>
<span class="k">return</span> <span class="n">d</span>

<span class="k">def</span> <span class="nf">format_song</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<span class="s">"return the filename for the given song"</span>
<span class="k">return</span> <span class="n">TEMPLATE</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="o">**</span><span class="n">s</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">handleCollection</span><span class="p">(</span><span class="n">album</span><span class="p">,</span> <span class="n">songs</span><span class="p">):</span>
<span class="s">"handle the complete collection"</span>
    <span class="n">albumRoot</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">MUSIC_PATH</span><span class="p">,</span> <span class="n">album</span><span class="p">)</span>
    <span class="n">mkdir</span><span class="p">(</span><span class="n">albumRoot</span><span class="p">)</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">songs</span><span class="p">:</span>
        <span class="n">new</span>  <span class="o">=</span>   <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">albumRoot</span><span class="p">,</span> <span class="n">format_song</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
        <span class="n">old</span>  <span class="o">=</span>   <span class="n">s</span><span class="p">[</span><span class="s">"file"</span><span class="p">]</span>        
        <span class="n">link</span><span class="p">(</span><span class="n">old</span><span class="p">,</span><span class="n">new</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">handleNormalAlbum</span><span class="p">(</span><span class="n">album</span><span class="p">,</span><span class="n">songs</span><span class="p">):</span>
    <span class="s">"handle the complete album"</span>
    <span class="n">artist</span> <span class="o">=</span> <span class="n">songs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">"artist"</span><span class="p">]</span>
    <span class="n">albumRoot</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">MUSIC_PATH</span><span class="p">,</span> <span class="n">artist</span><span class="p">,</span> <span class="n">album</span><span class="p">)</span>
    <span class="n">mkdir</span><span class="p">(</span><span class="n">albumRoot</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">songs</span><span class="p">:</span>
        <span class="n">new</span>  <span class="o">=</span>   <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">albumRoot</span><span class="p">,</span> <span class="n">format_song</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
        <span class="n">old</span>  <span class="o">=</span>   <span class="n">s</span><span class="p">[</span><span class="s">"file"</span><span class="p">]</span>
        <span class="n">link</span><span class="p">(</span><span class="n">old</span><span class="p">,</span><span class="n">new</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">is_collection</span><span class="p">(</span><span class="n">songs</span><span class="p">):</span>
    <span class="s">"True iff. the songs belong to a collection iff. the artists are different"</span>
    <span class="n">artists</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="s">"artist"</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">songs</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">artists</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">artists</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">artists</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">return</span> <span class="k">True</span>
    <span class="k">return</span> <span class="k">False</span>


<span class="nb">print</span><span class="p">(</span><span class="s">"Reading %s"</span> <span class="o">%</span> <span class="n">RHYTHMDB</span><span class="p">)</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">RHYTHMDB</span><span class="p">)</span>

<span class="n">ALBUM</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

<span class="c">#build up album index</span>
<span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">getchildren</span><span class="p">():</span>
    <span class="n">song</span> <span class="o">=</span> <span class="n">entry_to_dict</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
        <span class="n">ALBUM</span><span class="p">[</span><span class="n">song</span><span class="p">[</span><span class="s">"album"</span><span class="p">]]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">song</span> <span class="p">)</span>
<span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">ALBUM</span><span class="p">[</span><span class="n">song</span><span class="p">[</span><span class="s">"album"</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span> <span class="n">song</span> <span class="p">]</span>


<span class="n">mkdir</span><span class="p">(</span><span class="n">MUSIC_PATH</span><span class="p">)</span>

<span class="c">#for each album, handle it appropriate</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">ALBUM</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
    <span class="n">songs</span> <span class="o">=</span> <span class="n">ALBUM</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
<span class="k">if</span> <span class="n">is_collection</span><span class="p">(</span><span class="n">songs</span><span class="p">):</span>
        <span class="n">handleCollection</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">songs</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
        <span class="n">handleNormalAlbum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">songs</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s">"Linked %d files"</span> <span class="o">%</span> <span class="n">COUNTER</span><span class="p">)</span>
</pre></div>
</td></tr></table>
</div>
<div class="postbox">
	<h1 class="post-title"><a href="posts/201207latex-flow.html">Latex flow</a></h1>
  <small class="post-title">
		<time class="published" datetime="2012-07-01T00:00:00">
			2012-07-01 00:00</time>
		</small>
  <hr>
  <h4>Good packages</h4>
<ul>
<li><strong>showkeys</strong> -- shows the reference keys in \ref and \label statements. A good choice if you use many of them.</li>
<li><strong>todonotes</strong> -- provides one nice command \todo. This command prints a note on the side and with \listoftodoes you get an index of all todos in the document. </li>
</ul>
<p>I use the following shortcuts:</p>
<div class="code"><pre>\renewcommand\question[1]{\todo[inline,color=orange!40]{#1}}
\newcommand{\insertref}[1]{\todo[color=green!40]{#1}}
\newcommand{\explainindetail}[1]{\todo[inline,color=red!40]{#1}}
\newcommand{\beforepublish}[1]{\todo[inline,color=blue!40]{\textbf{before publish:} #1}}
</pre></div>


<ul>
<li><strong>array</strong> -- for simplier definition of tables formats, especially p{5cm} defines a row width of 5cm and text wrapping.</li>
<li><strong>mathtools</strong> -- provides many fixes and new commands for typesetting math.</li>
<li><strong>nomencl</strong> -- for setting a nomenclature (e. g. short definitions)</li>
<li><strong>microtype</strong> -- only needed to include, makes a better typesetting</li>
<li><strong>xcolor</strong> -- provides more color names</li>
<li><strong>multicolumn</strong>-- try this for setting only one paragraph with multicolumns</li>
<li><strong>flafter</strong> -- this depends on your revisior. In my unviversity the floats should be after the first occurence in the text. This package forces this.</li>
<li><strong>algorithm2e</strong>-- The mighty package for setting algorithms in LaTeX. If you does not love the syntax you should consider <strong>algorithmic</strong>.</li>
<li><strong>hyperref</strong> -- a must use for pdf users, generates pdf index and clickable referencen (and much more ...)</li>
</ul>
<h4>Create new commands and environments</h4>
<p>It is often useful that you create new comamnds for your needs.  I create shortcuts for often uses phrases and notations. There are two problems with writing new commands. (1) You want to use the commands within or without math mode
(2) The leading space or non-leading space after the commands. 
<strong>Solution:</strong> For (1), use \ensuremath{} this put everything of the first parameter into math mode, independent of the outer mode. (2) is the target of the package <strong>xspace</strong>.  This provdes the \xspace command, that only prints a whitespace is not an punctation.</p>
<p><strong>Example:</strong> For Big-O Notation I use:</p>
<div class="code"><pre>\newcommand\Oh[1]{\ensuremath{\mathcal O(#1)}}
</pre></div>


<p>\newcommand\mathdef{\ensuremath{=_{\text{\textup{def}}}}}</p>
<p>You can use \Oh{n^3} in the middle of the text or in math mode. and a good symbol for mathematical definition. </p>
<div class="code"><pre>\newcommand\IF{\textsc{if}\xspace}
</pre></div>


<p>\newcommand\FOREACH{\textsc{foreach}\xspace}</p>
<p>I often write »\FOREACH-Bedingung« and so on. You can view the syntax of (re)newcommand and (re)newenvironment on every latex webpage. In my papers I typeset a lot things in teletype writer, but this looks very big. So I use that: </p>
<div class="code"><pre>\newcommand{\f}[1]{\begingroup \smaller \texttt{#1} \endgroup}
</pre></div>


<p>Mathematical Operator should be declared with \DeclareMathOperator{\first}{first} and written as $\first$ and not $first$. The second means this is one or more variables (variables are always italic). If you use an operator only once, you can consider \operatorname{first}. In my thesis I have defined the following operators:</p>
<p>\DeclareMathOperator{\Pol}{Pol}
    \DeclareMathOperator{\BC}{BC}
    \DeclareMathOperator{\co}{co}
    \DeclareMathOperator{\BFS}{BFS}
    \DeclareMathOperator{\ZK}{ZK}
    \DeclareMathOperator{\sZK}{sZK}</p>
<h4>Environments</h4>
<p>A short time ago I read a paper of student for <i>Wissenschaftliches Arbeiten</i>, a lecture on my university. There was a lot of definition, propositions and other things. But not typeset in an appropriate manner. Everything that should be reference or needed later in an article should get a number in a suitable environment. AMS-Math provides for this some environments: proposition, corollar, problem, definition and should be labelled and used. An example:</p>
<p>\begin{definition}[Sternfreie Sprachen]
    \label{def:sf}
    Sei $\Sigma$ ein Alphabet. Die sternfreien Sprachen über $\Sigma$, geschrieben $SF_\Sigma$ 
    bilden die kleinste Klasse von Sprachen über $\Sigma$, die unter folgendem abgeschlossen ist:
  
     \begin{itemize}
        \item $\emptyset$ ist sternfrei
        \item ${\varepsilon}$ ist sternfrei
        \item ${a}$ ist sternfrei für $a\in \Sigma$
        \item Sind $L, L'$ sternfrei, so auch $L \cdot L', \widebar L, L \cup L'$
    \end{itemize}
  \end{definition}</p>
<p>In my thesis I came to <strong>thmtools</strong> because I wanted an index of all my definitions and theorems. </p>
<h4>Tools</h4>
<p>My current editor of choice is emacs + auctex. It has  a steep learning curve but the best features I have seen so far. I know a lot of people using LaTeX-Maker or LaTeX-Studio. These are nice but I miss:</p>
<ul>
<li>hard wraps (align-mode)</li>
<li>searchable references view with a kind of intellisense autocompletion</li>
<li>flyspell</li>
<li>easy shortcuts for math symbols </li>
<li>C-c C-e for new environment</li>
<li>... </li>
</ul>
<p>For compiling my sources I take latexmk. This makes a lot of things easier. It calls bibtex if needed. Checks if the document is needed to compile again. You can plugin your file conversions easily, too. I use it in the continous mode (-pvc -pdf). This starts a recompilation every time one of the source files are changed (tex, images ... ). A difficult point is the creation of pictures for an article. In my opinion produce the <strong>tikz</strong> good results but is too hard to learn and use. I use this only for small picture. For complex ones is inkscape my choice. This is an editor for vector graphics can save the images as PDF. This is important for avoid quality losses in resizing images in latex. I use two screens for editing. On the big screen is the emacs editor with multiple buffers (one or two files and table of contents). The small screen contains a pdf viewer (evince), that refresh the view if the pdf is changed and often an terminal, for things like git or latexmk.</p>
<p>I work with git and dropbox. The first is for revision and tracking changes, the last only for backup and access for other people. </p>
</div>
<div class="postbox">
	<h1 class="post-title"><a href="posts/&lt;blockquote&gt;AssertionError:%20False%20is%20not%20true&lt;/blockquote&gt;.html">Python is always right</a></h1>
  <small class="post-title">
		<time class="published" datetime="2012-06-04T23:06:00">
			2012-06-04 23:06</time>
		</small>
  <hr>
  <p>I love Python,because it is right sometimes:</p>
<blockquote>AssertionError: False is not true</blockquote>

<p>A nice message of a positive test case.</p>
</div>
<div class="postbox">
	<h1 class="post-title"><a href="posts/201205now-my-latexmkrc-ist-complete-for-my.html">latexmk workflow</a></h1>
  <small class="post-title">
		<time class="published" datetime="2012-05-21T16:05:00">
			2012-05-21 16:05</time>
		</small>
  <hr>
  <p>Now my latexmkrc ist complete for my thesis I post it. 
It is adopted to my workflow and uses Incskape, Graphviz for figure creation and works with <em>nomencl</em> package.</p>
<div class="code"><pre># $HOME/.latexmkrc 
$pdf_previewer = "start evince";
$pdf_update_method = 0;

add_cus_dep( "svg", "pdf", 1, 'svg2pdf');
add_cus_dep( "dot", "pdf", 1, 'dot2pdf');
add_cus_dep( "nlo", "nls", 1, 'nomencl');


sub svg2pdf {
    system("inkscape  $_[0].svg -A $_[0].pdf --export-area-drawing --export-dpi=600");
}

sub dot2pdf {
    system("dot -Tpdf -o $_[0].pdf   $_[0].dot");
}

sub nomencl {
    system("makeindex $_[0].nlo -s nomencl.ist -o $_[0].nls");
}
</pre></div>
</div>
<div class="postbox">
	<h1 class="post-title"><a href="posts/201304a-little-python-script-to-visualize.html">Visalizing DSL tones</a></h1>
  <small class="post-title">
		<time class="published" datetime="2012-05-01T00:00:00">
			2012-05-01 00:00</time>
		</small>
  <hr>
  <p>A little python script to visualize the quality of dsl tones from zyxel routers.
Tested with O² DSL &amp; Comfort (FW  RAS version: V3.40(AOF.5)D0 | 19.03.2009).
Should work for all routers that supports wan adsl linedata {fear|near}.</p>
<p><a href="http://1.bp.blogspot.com/-LKk7c6LsBRA/UV4OxEpd7VI/AAAAAAAAD-M/v2nBedVdFA4/s1600/test.png" style="margin-left: auto; margin-right: auto;"><img border="0" height="301" src="http://1.bp.blogspot.com/-LKk7c6LsBRA/UV4OxEpd7VI/AAAAAAAAD-M/v2nBedVdFA4/s400/test.png" width="400"></a></p>
<div class="code"><pre><span class="c">#!/usr/bin/python</span>

<span class="kn">from</span> <span class="nn">pexpect</span> <span class="kn">import</span> <span class="n">spawn</span><span class="p">,</span><span class="n">EOF</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">StringIO</span> <span class="kn">import</span> <span class="n">StringIO</span>

<span class="n">ADDR</span> <span class="o">=</span> <span class="s">"192.168.2.1"</span>
<span class="n">PASS</span> <span class="o">=</span> <span class="s">"xxxxxxx"</span> <span class="c">#&lt;- here password</span>

<span class="c">#retrieve values via telnet</span>
<span class="n">telnet</span> <span class="o">=</span> <span class="n">spawn</span><span class="p">(</span><span class="s">'telnet </span><span class="si">%s</span><span class="s">'</span> <span class="o">%</span> <span class="n">ADDR</span><span class="p">)</span>

<span class="n">telnet</span><span class="o">.</span><span class="n">expect</span><span class="p">(</span><span class="s">': '</span><span class="p">)</span>
<span class="n">telnet</span><span class="o">.</span><span class="n">sendline</span><span class="p">(</span><span class="s">'admin'</span><span class="p">)</span>
<span class="n">telnet</span><span class="o">.</span><span class="n">expect</span><span class="p">(</span><span class="s">': '</span><span class="p">)</span>
<span class="n">telnet</span><span class="o">.</span><span class="n">sendline</span><span class="p">(</span><span class="n">PASS</span><span class="p">)</span>

<span class="n">telnet</span><span class="o">.</span><span class="n">expect</span><span class="p">(</span><span class="s">'ras&gt; '</span><span class="p">)</span>
<span class="n">UP</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
<span class="n">telnet</span><span class="o">.</span><span class="n">logfile_read</span> <span class="o">=</span> <span class="n">UP</span>
<span class="n">telnet</span><span class="o">.</span><span class="n">sendline</span><span class="p">(</span><span class="s">'wan adsl linedata far'</span><span class="p">)</span>
<span class="n">telnet</span><span class="o">.</span><span class="n">expect</span><span class="p">(</span><span class="s">'ras&gt; '</span><span class="p">)</span>

<span class="n">DOWN</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
<span class="n">telnet</span><span class="o">.</span><span class="n">logfile_read</span> <span class="o">=</span> <span class="n">DOWN</span>
<span class="n">telnet</span><span class="o">.</span><span class="n">sendline</span><span class="p">(</span><span class="s">'wan adsl linedata near'</span><span class="p">)</span>
<span class="n">telnet</span><span class="o">.</span><span class="n">expect</span><span class="p">(</span><span class="s">'ras&gt; '</span><span class="p">)</span>
<span class="n">telnet</span><span class="o">.</span><span class="n">sendline</span><span class="p">(</span><span class="s">'exit'</span><span class="p">)</span>
<span class="n">telnet</span><span class="o">.</span><span class="n">expect</span><span class="p">(</span><span class="n">EOF</span><span class="p">)</span>

<span class="n">UP</span><span class="p">,</span><span class="n">DOWN</span> <span class="o">=</span> <span class="n">UP</span><span class="o">.</span><span class="n">getvalue</span><span class="p">(),</span> <span class="n">DOWN</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">parse_data_array</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="n">array</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">useableChars</span> <span class="o">=</span> <span class="s">'0123456789abcdef'</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">):</span>
       <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'tone'</span><span class="p">):</span>
         <span class="n">pos</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">':'</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
         <span class="n">rest</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="n">pos</span><span class="p">:]</span>            
         <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">rest</span><span class="p">:</span>
         <span class="k">if</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">useableChars</span><span class="p">:</span>
             <span class="n">array</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
     <span class="k">return</span> <span class="n">array</span>


<span class="n">dup</span> <span class="o">=</span> <span class="n">parse_data_array</span><span class="p">(</span><span class="n">UP</span><span class="p">)</span>
<span class="n">ddown</span> <span class="o">=</span> <span class="n">parse_data_array</span><span class="p">(</span><span class="n">DOWN</span><span class="p">)</span>


<span class="nb">all</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">dup</span><span class="p">)</span> <span class="o">+</span> <span class="nb">sum</span><span class="p">(</span><span class="n">ddown</span><span class="p">)</span> 
<span class="nb">max</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ddown</span><span class="p">)</span><span class="mf">15.0</span>
<span class="k">print</span><span class="p">(</span><span class="nb">all</span><span class="o">/</span><span class="nb">max</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">import</span>

<span class="n">TONE_WIDTH</span> <span class="o">=</span> <span class="mf">4.3125</span> <span class="c">#kHz</span>
<span class="n">x_axis</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="n">TONE_WIDTH</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dup</span><span class="p">))]</span>

<span class="n">pup</span>   <span class="o">=</span> <span class="n">bar</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="n">dup</span><span class="p">,</span>   <span class="n">TONE_WIDTH</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">'r'</span> <span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">pdown</span> <span class="o">=</span> <span class="n">bar</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="n">ddown</span><span class="p">,</span> <span class="n">TONE_WIDTH</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">'b'</span> <span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">title</span><span class="p">(</span><span class="s">'DSL tones'</span><span class="p">)</span>
<span class="n">yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">))</span>
<span class="n">ylabel</span><span class="p">(</span><span class="s">"Bit/chan"</span><span class="p">)</span>
<span class="n">xlabel</span><span class="p">(</span><span class="s">"freq [kHz]"</span><span class="p">)</span>
<span class="n">legend</span><span class="p">(</span> <span class="p">(</span><span class="n">pup</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pdown</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">(</span><span class="s">'Up'</span><span class="p">,</span> <span class="s">'Down'</span><span class="p">))</span>
<span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="postbox">
	<h1 class="post-title"><a href="posts/201206bewerbung-msc-cs.html">Bewerbung MSc</a></h1>
  <small class="post-title">
		<time class="published" datetime="2000-01-01T00:00:00">
			2000-01-01 00:00</time>
		</small>
  <hr>
  <p><a href="http://4.bp.blogspot.com/-J5PEZRNP3oY/T-cc4hGX5eI/AAAAAAAAB_Q/ed1Fn3Dlv3I/s1600/Bildschirmfoto+vom+2012-06-24+15:50:13.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="54" src="http://4.bp.blogspot.com/-J5PEZRNP3oY/T-cc4hGX5eI/AAAAAAAAB_Q/ed1Fn3Dlv3I/s320/Bildschirmfoto+vom+2012-06-24+15:50:13.png" width="600"></a></p>
</div>

<div>
<ul class="pager">
</ul>
</div>




        <script src="assets/js/mathjax.js" type="text/javascript"></script>


    <small>Contents © 2014         <a href="mailto:uiduw@student.kit.edu">Alexander Weigl</a></small>
    

    
    
 <script type="text/javascript" src="assets/js/tipuesearch_set.js"></script>
 <script type="text/javascript" src="assets/js/tipuesearch.js"></script>
 <script type="text/javascript">
 $(document).ready(function() {
     $('#tipue_search_input').tipuesearch({
         'mode': 'json',
         'contentLocation': '/assets/js/tipuesearch_content.json',
         'showUrl': false
     });
 });
</script>


</body></html>